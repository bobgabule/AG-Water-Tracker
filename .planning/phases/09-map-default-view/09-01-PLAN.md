# Plan 09-01: Map Default View

## Goal
Map shows a meaningful default view based on the farm's location instead of hardcoded Kansas center at zoom 16. Long-press behavior removed entirely.

## Requirements
- MAP-01: Map centers on farm's US state when no wells exist
- MAP-02: Map centers on average well coordinates when wells exist (preserve)
- MAP-03: GPS fly-to with 1500ms animation (preserve)
- MAP-04: Long-press removed â€” no add well form on hold

## Tasks

### Task 1: Create US state coordinates lookup
**File:** `src/lib/usStateCoordinates.ts` (CREATE)
- `StateViewport` interface: `{ latitude, longitude, zoom }`
- `US_STATE_COORDINATES`: `Record<string, StateViewport>` for all 50 states + DC
- Zoom levels: ~4-6 for large states, ~7 for medium, ~8-11 for small

### Task 2: Create useFarmState hook
**File:** `src/hooks/useFarmState.ts` (CREATE)
- `useFarmState(farmId: string | null): string | null`
- Query: `SELECT state FROM farms WHERE id = ? LIMIT 1`
- Guard empty: `'SELECT NULL WHERE 0'`
- Memoize with `useMemo`

### Task 3: Update MapView
**File:** `src/components/MapView.tsx` (MODIFY)
- Add `farmState?: string | null` prop
- Update `computeInitialViewState(wells, farmState)` with 3-tier fallback
- Remove ALL long-press code (~104 lines): constants, refs, handlers, event props

### Task 4: Update DashboardPage
**File:** `src/pages/DashboardPage.tsx` (MODIFY)
- Import and use `useFarmState` hook
- Pass `farmState` to MapView
- Remove `handleMapLongPress` callback

## Files Changed
| File | Action |
|------|--------|
| `src/lib/usStateCoordinates.ts` | CREATE |
| `src/hooks/useFarmState.ts` | CREATE |
| `src/components/MapView.tsx` | MODIFY |
| `src/pages/DashboardPage.tsx` | MODIFY |
