---
phase: 32-unified-design-system-and-theme-colors
plan: 03
type: execute
wave: 2
depends_on: ["32-01"]
files_modified:
  - src/components/Header.tsx
  - src/components/AddUserModal.tsx
  - src/components/PendingInvitesList.tsx
  - src/components/FarmSelector.tsx
  - src/components/WellLimitModal.tsx
  - src/components/AddWellFormBottomSheet.tsx
  - src/components/WellStatusIndicators.tsx
  - src/components/SegmentedControl.tsx
  - src/components/LocationPickerBottomSheet.tsx
  - src/components/WellDetailSheet.tsx
  - src/components/WellUsageGauge.tsx
  - src/components/NewReadingSheet.tsx
  - src/components/UserLocationCircle.tsx
  - src/components/skeletons/WellListSkeleton.tsx
  - src/pages/DashboardPage.tsx
  - src/pages/WellListPage.tsx
  - src/pages/SubscriptionPage.tsx
  - src/pages/LanguagePage.tsx
autonomous: true
requirements: []

must_haves:
  truths:
    - "No hardcoded hex colors remain in any component or page file (except AuthLayout gradient)"
    - "App renders pixel-identical before and after token migration"
    - "All color references use Tailwind token classes (bg-surface-header, text-text-heading, etc.)"
  artifacts:
    - path: "src/components/Header.tsx"
      provides: "Header with tokenized surface-header color and super-admin token"
      contains: "bg-surface-header"
    - path: "src/pages/WellListPage.tsx"
      provides: "WellListPage with tokenized page/card/teal colors"
      contains: "bg-surface-page"
  key_links:
    - from: "src/index.css"
      to: "src/components/Header.tsx"
      via: "@theme token --color-surface-header"
      pattern: "bg-surface-header"
    - from: "src/index.css"
      to: "src/pages/WellListPage.tsx"
      via: "@theme token --color-teal"
      pattern: "bg-teal"
---

<objective>
Replace all hardcoded hex color values across 18 component and page files with semantic @theme token classes from Plan 01.

Purpose: Complete the token migration so every color in the app is controlled through src/index.css.
Output: 18 files with zero hardcoded hex, all using Tailwind token classes.
</objective>

<execution_context>
@C:/Users/Bobits/.claude/get-shit-done/workflows/execute-plan.md
@C:/Users/Bobits/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/32-unified-design-system-and-theme-colors/32-01-SUMMARY.md
@src/index.css
</context>

<tasks>

<task type="auto">
  <name>Task 1: Tokenize component files (9 files)</name>
  <files>
    src/components/Header.tsx
    src/components/WellDetailSheet.tsx
    src/components/WellUsageGauge.tsx
    src/components/WellStatusIndicators.tsx
    src/components/NewReadingSheet.tsx
    src/components/SegmentedControl.tsx
    src/components/AddUserModal.tsx
    src/components/AddWellFormBottomSheet.tsx
    src/components/LocationPickerBottomSheet.tsx
  </files>
  <action>
In each file, find all hardcoded hex Tailwind classes (e.g., `bg-[#5f7248]`) and replace with the corresponding @theme token class. Use the mapping table below for all replacements.

**Complete replacement mapping:**

| Old Class | New Class |
|-----------|-----------|
| `bg-[#5f7248]` | `bg-surface-header` |
| `hover:bg-[#5f7248]` | `hover:bg-surface-header` |
| `text-[#5f7248]` | `text-text-heading` |
| `bg-[#800000]` | `bg-super-admin` |
| `bg-[#4a7c59]` | `bg-btn-action` |
| `bg-[#526640]` | `bg-surface-modal` |
| `bg-[#3a4a2a]` | `bg-surface-dark` |
| `bg-[#2a3520]` | `bg-surface-darkest` |
| `bg-[#4e6339]` | `bg-surface-header-hover` |
| `hover:bg-[#4e6339]` | `hover:bg-surface-header-hover` |
| `hover:bg-[#4e6139]` | `hover:bg-surface-header-hover` |
| `bg-[#89a267]` | `bg-control-active` |
| `border-[#89a267]` | `border-control-active` |
| `hover:bg-[#89a267]` | `hover:bg-control-active` |
| `bg-[#8ca074]` | `bg-control-active-alt` |
| `bg-[#bdefda]` | `bg-btn-confirm` |
| `text-[#506741]` | `text-btn-confirm-text` |
| `border-[#506741]` | `border-btn-confirm-text` |
| `bg-[#cdf2fb]` | `bg-teal-btn` |
| `text-[#5e8f94]` | `text-teal-btn-text` |
| `text-[#759099]` | Keep as-is (one-off placeholder color in LocationPicker) |
| `text-[#6190d1]` | `text-accent-gps` |
| `hover:bg-[#6190d1]` | `hover:bg-accent-gps` |
| `bg-[#e8ebe0]` | `bg-surface-input` |

File-specific notes:

**Header.tsx**: Replace `bg-[#5f7248]` with `bg-surface-header`, `bg-[#800000]` with `bg-super-admin`. Keep the maroon super_admin distinction per user decision.

**WellDetailSheet.tsx**: Replace `bg-[#5f7248]` surfaces and `bg-[#4a7c59]` "New Reading" button.

**WellUsageGauge.tsx**: Replace `bg-[#3a4a2a]` (surface-dark) and `bg-[#2a3520]` (surface-darkest).

**WellStatusIndicators.tsx**: Replace `bg-[#3a4a2a]` with `bg-surface-dark`.

**NewReadingSheet.tsx**: Replace all `bg-[#5f7248]`, `bg-[#bdefda]`, `text-[#506741]`, `border-[#506741]` with token equivalents.

**SegmentedControl.tsx**: Replace `bg-[#89a267]`, `border-[#89a267]`, `hover:bg-[#89a267]` with control-active tokens.

**AddUserModal.tsx**: Replace `bg-[#526640]` with `bg-surface-modal`, `bg-[#8ca074]` with `bg-control-active-alt`, any `bg-[#5f7248]` with `bg-surface-header`.

**AddWellFormBottomSheet.tsx**: Replace `bg-[#5f7248]` and confirm button hex colors.

**LocationPickerBottomSheet.tsx**: Replace `bg-[#cdf2fb]` with `bg-teal-btn`, `text-[#5e8f94]` with `text-teal-btn-text`, `bg-[#5f7248]` with `bg-surface-header`. Keep `text-[#759099]` as-is (one-off placeholder color not worth tokenizing).

After all replacements, verify NO hex patterns `#[0-9a-fA-F]{6}` remain in these 9 files (except the one-off in LocationPickerBottomSheet if applicable).
  </action>
  <verify>
    <automated>npx tsc -b --noEmit</automated>
    <manual>Grep for #[0-9a-fA-F]{6} in the 9 files -- should return zero (or one in LocationPicker)</manual>
  </verify>
  <done>All 9 component files use @theme token classes instead of hardcoded hex values</done>
</task>

<task type="auto">
  <name>Task 2: Tokenize page files and remaining components (9 files)</name>
  <files>
    src/pages/DashboardPage.tsx
    src/pages/WellListPage.tsx
    src/pages/SubscriptionPage.tsx
    src/pages/LanguagePage.tsx
    src/components/PendingInvitesList.tsx
    src/components/FarmSelector.tsx
    src/components/WellLimitModal.tsx
    src/components/UserLocationCircle.tsx
    src/components/skeletons/WellListSkeleton.tsx
  </files>
  <action>
Same mechanical replacement as Task 1, using the same mapping table. Apply to all 9 remaining files.

File-specific notes:

**DashboardPage.tsx**: Replace `bg-[#5f7248]` with `bg-surface-header` (FAB/button backgrounds).

**WellListPage.tsx**: Heavy replacement target. Replace:
- `bg-[#c5cdb4]` -> `bg-surface-page`
- `bg-[#dfe4d4]` -> `bg-surface-card`
- `bg-[#d5dbc8]` -> `bg-surface-card-hover` (hover:bg variant)
- `bg-[#e8ebe0]` -> `bg-surface-input`
- `text-[#5f7248]` -> `text-text-heading`
- `bg-[#5a9494]` -> `bg-teal`
- `bg-[#7fb3b3]` -> `bg-teal-light`
- `hover:bg-[#4a8484]` -> `hover:bg-teal-hover`
- `from-[#c5cdb4]` -> `from-surface-page`
- `via-[#c5cdb4]` -> `via-surface-page`

**SubscriptionPage.tsx**: Replace `bg-[#c5cdb4]` -> `bg-surface-page`, `text-[#5f7248]` -> `text-text-heading`, `bg-[#dfe4d4]` -> `bg-surface-card`, `bg-[#5f7248]` -> `bg-surface-header`.

**LanguagePage.tsx**: Replace any `bg-[#5f7248]` with `bg-surface-header`. Keep `bg-[#f5f5f0]` as-is (one-off near-white button hover, not worth tokenizing per audit notes).

**PendingInvitesList.tsx**: Replace `bg-[#dfe4d4]` -> `bg-surface-card`, `text-[#5f7248]` -> `text-text-heading`, etc.

**FarmSelector.tsx**: Replace header/surface hex colors.

**WellLimitModal.tsx**: Replace `bg-[#5f7248]` -> `bg-surface-header` and confirm button colors.

**UserLocationCircle.tsx**: Replace any hex colors with corresponding tokens.

**WellListSkeleton.tsx**: Replace `bg-[#c5cdb4]` -> `bg-surface-page`, `bg-[#dfe4d4]` -> `bg-surface-card`.

After all replacements, verify NO hex patterns remain in these 9 files (except one-off in LanguagePage if applicable).

**Final check:** Run a project-wide grep for `#[0-9a-fA-F]{6}` in src/ (excluding index.css and AuthLayout.tsx). The result should be zero or near-zero (only intentional one-offs).
  </action>
  <verify>
    <automated>npx tsc -b --noEmit</automated>
    <manual>Project-wide grep for hardcoded hex in src/**/*.tsx (excluding index.css, AuthLayout.tsx) returns zero or only documented one-offs</manual>
  </verify>
  <done>All 18 files tokenized. Zero hardcoded hex in component/page files except AuthLayout gradient and documented one-offs</done>
</task>

</tasks>

<verification>
1. `npx tsc -b --noEmit` passes
2. Grep for `#[0-9a-fA-F]{6}` in src/**/*.tsx (excluding index.css and AuthLayout.tsx) returns zero or only documented one-offs (LocationPicker placeholder, LanguagePage hover)
3. App builds successfully with `npm run build`
4. No visual changes (colors are identical -- just sourced from tokens instead of hardcoded hex)
</verification>

<success_criteria>
Every color in every component and page file (except AuthLayout gradient) is sourced from a semantic @theme token. The app is visually pixel-identical.
</success_criteria>

<output>
After completion, create `.planning/phases/32-unified-design-system-and-theme-colors/32-03-SUMMARY.md`
</output>
