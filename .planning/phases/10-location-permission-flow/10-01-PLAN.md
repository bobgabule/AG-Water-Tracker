# Plan 10-01: Location Permission Soft-Ask Flow

## Goal
Replace auto-request-on-mount geolocation with a soft-ask pattern: FAB on map, custom modal before browser dialog, silent fetch when already granted.

## Requirements
- LOC-01: No automatic geolocation request on page load
- LOC-02: "Use My Location" FAB on the map
- LOC-03: Custom soft-ask modal before browser's native permission dialog
- LOC-04: Settings guidance when permission denied (keep LocationPermissionBanner)

## Tasks

### Task 1: Add autoRequest option to useGeolocation
**File:** `src/hooks/useGeolocation.ts` (MODIFY)
- Add `autoRequest?: boolean` option (default `true`)
- Add `requestLocation: () => void` to return value
- Gate mount useEffect on `autoRequest`

### Task 2: Create LocationSoftAskModal
**File:** `src/components/LocationSoftAskModal.tsx` (CREATE)
- Headless UI v2 centered dialog matching ConfirmDeleteMemberDialog pattern
- Two modes: prompt (blue, Allow/No Thanks) and denied (amber, Got It)

### Task 3: Update MapView
**File:** `src/components/MapView.tsx` (MODIFY)
- Disable auto-request: `autoRequest: false`
- Replace prevPermissionRef effect with `permission === 'granted'` auto-request
- Simplify initialViewState (remove userLocation branch)
- Add FAB (ViewfinderCircleIcon, bottom-20 right-4)
- Add LocationSoftAskModal integration
- FAB handler: granted → flyTo/requestLocation, prompt/denied → show modal

## Files Changed
| File | Action |
|------|--------|
| `src/hooks/useGeolocation.ts` | MODIFY |
| `src/components/LocationSoftAskModal.tsx` | CREATE |
| `src/components/MapView.tsx` | MODIFY |
